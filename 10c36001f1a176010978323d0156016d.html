<!DOCTYPE HTML> <html lang="en"> <head> <meta charset="UTF-8"> <title>G-Rally Invasion</title> <style>body{text-align:center;margin:0;background-color:#000}#container{padding-top:10px;margin:0 auto;width:calc(100% - 40px)}.clearfix:after{content:"";clear:both;display:table}.score{font-family:monospace;font-size:28px;padding:5px 15px}.score:nth-child(2n){background:#ccc}.score div{float:left}.score span{float:right;font-weight:700}.winner{background:green;color:#fff}h1{text-transform:uppercase;font-weight:700;font-family:monospace;font-size:36px}</style> <meta name="viewport" content="width=device-width, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <script src="https://www.gstatic.com/firebasejs/4.8.2/firebase.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  </head> <body> <div id="container"> <div id="scoreboard" style="background:#fff"> <img src="37b967ff590cb4e44232eb9c71f50958.png"> <h1>HIGH SCORES</h1> </div> </div> <script>function addScore(e,a,o){$("#scoreboard").append('  <div class="score '+(o?"winner ":"")+'clearfix" data-name="'+e+'" data-sort="'+a+'">  <div>'+e+" </div> <span>"+a+" <div>"+(o?"&#127881":"&#9760;")+" </div > </span >  </div > ")}var config={apiKey:"AIzaSyCoTQpDqnKUPwlc_5RU8tL7rrSLR_8irMo",authDomain:"grally-14e44.firebaseapp.com",databaseURL:"https://grally-14e44.firebaseio.com",projectId:"grally-14e44",storageBucket:"",messagingSenderId:"1003942569228"};firebase.initializeApp(config),jQuery.fn.sortDivs=function(){function e(e,a){return $(a).data("sort")>=$(e).data("sort")?1:-1}$("> div",this[0]).sort(e).appendTo(this[0])};const pointsRef=firebase.database().ref("points");pointsRef.on("child_changed",function(e){console.log("changed",e.key,e.val());const a=e.val(),o=e.key;$(".score[data-name="+o+"]").remove(),addScore(o,a.points,a.winner),$("#scoreboard").sortDivs()});const topRef=firebase.database().ref("points").orderByChild("value");topRef.on("child_added",function(e){console.log("added",e.key,e.val());const a=e.val();addScore(e.key,a.points,a.winner),$("#scoreboard").sortDivs()});</script> </body> </html>